# Log Flow Diagram

## Configuration: ServerLogLevel = Information

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Application Code                                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  logger.LogTrace("Trace msg");         â”€â”€â”                         â”‚
â”‚  logger.LogDebug("Debug msg");         â”€â”€â”¤                         â”‚
â”‚  logger.LogInformation("Info msg");    â”€â”€â”¤                         â”‚
â”‚  logger.LogWarning("Warning msg");     â”€â”€â”¤                         â”‚
â”‚  logger.LogError("Error msg");         â”€â”€â”¤                         â”‚
â”‚  logger.LogCritical("Critical msg");   â”€â”€â”˜                         â”‚
â”‚                                           â”‚                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ LoggerFactory (Minimum Level = Trace)                              â”‚
â”‚ All logs pass through to providers                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚                         â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ Console Provider     â”‚  â”‚ API Provider         â”‚
                    â”‚ (ConsoleLogLevel)    â”‚  â”‚ (ServerLogLevel)     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚                         â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ Filter: >= Debug     â”‚  â”‚ IsEnabled() Check    â”‚
                    â”‚                      â”‚  â”‚ logLevel >= Info?    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚                         â”‚
                                â–¼                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         FILTERING RESULTS                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Console Output                â”‚  Server Upload Queue               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                â”‚                                    â”‚
â”‚  âœ… Trace: "Trace msg"         â”‚  âŒ (Filtered: 0 < 2)              â”‚
â”‚  âœ… Debug: "Debug msg"         â”‚  âŒ (Filtered: 1 < 2)              â”‚
â”‚  âœ… Info: "Info msg"           â”‚  âœ… ENQUEUED (2 >= 2)              â”‚
â”‚  âœ… Warning: "Warning msg"     â”‚  âœ… ENQUEUED (3 >= 2)              â”‚
â”‚  âœ… Error: "Error msg"         â”‚  âœ… ENQUEUED (4 >= 2)              â”‚
â”‚  âœ… Critical: "Critical msg"   â”‚  âœ… ENQUEUED (5 >= 2)              â”‚
â”‚                                â”‚                                    â”‚
â”‚  Total: 6 logs                 â”‚  Total: 4 logs                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                           â”‚
                                           â–¼
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚ LoggingServices Queue    â”‚
                            â”‚                          â”‚
                            â”‚ [Info, Warning, Error,   â”‚
                            â”‚  Critical]               â”‚
                            â”‚                          â”‚
                            â”‚ Size: 4 logs             â”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
                            (Wait 5 seconds for batch)
                                       â”‚
                                       â–¼
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚ ProcessLogBatch()        â”‚
                            â”‚ Dequeue up to 100 logs   â”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
                                       â–¼
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚ SendLogBatchAsync()      â”‚
                            â”‚ POST /api/v1/logs        â”‚
                            â”‚                          â”‚
                            â”‚ Payload: [               â”‚
                            â”‚   {Info log},            â”‚
                            â”‚   {Warning log},         â”‚
                            â”‚   {Error log},           â”‚
                            â”‚   {Critical log}         â”‚
                            â”‚ ]                        â”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
                                       â–¼
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚ Server Receives 4 Logs   â”‚
                            â”‚                          â”‚
                            â”‚ âœ… Information           â”‚
                            â”‚ âœ… Warning               â”‚
                            â”‚ âœ… Error                 â”‚
                            â”‚ âœ… Critical              â”‚
                            â”‚                          â”‚
                            â”‚ âŒ Trace (filtered)      â”‚
                            â”‚ âŒ Debug (filtered)      â”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Key Points

1. **Trace and Debug logs** are filtered **BEFORE** enqueueing
2. They **NEVER** reach the upload queue
3. They **NEVER** get sent to the server
4. Console shows them (if ConsoleLogLevel allows) but server doesn't receive them

## Code Path for Debug Log

```
logger.LogDebug("Debug message")
    â”‚
    â–¼
ApiLogger.Log(LogLevel.Debug, ...)
    â”‚
    â–¼
IsEnabled(LogLevel.Debug)?
    â”‚
    â”œâ”€ serverLogLevel = Information (2)
    â”œâ”€ logLevel = Debug (1)
    â””â”€ 1 >= 2? NO âŒ
    â”‚
    â–¼
return;  // ğŸ›‘ STOPS HERE - never enqueued!
```

## Code Path for Information Log

```
logger.LogInformation("Info message")
    â”‚
    â–¼
ApiLogger.Log(LogLevel.Information, ...)
    â”‚
    â–¼
IsEnabled(LogLevel.Information)?
    â”‚
    â”œâ”€ serverLogLevel = Information (2)
    â”œâ”€ logLevel = Information (2)
    â””â”€ 2 >= 2? YES âœ…
    â”‚
    â–¼
Format message
    â”‚
    â–¼
ProcessTemporalMessage()
    â”‚
    â–¼
IsEnabled() check again?
    â”‚
    â””â”€ Still 2 >= 2? YES âœ…
    â”‚
    â–¼
LoggingServices.EnqueueLog(log)  // ğŸ“¤ Added to queue
    â”‚
    â–¼
[Wait 5 seconds]
    â”‚
    â–¼
SendLogBatchAsync()  // ğŸ“¤ Uploaded to server
```

## Summary

**ServerLogLevel = Information** means:
- Only logs with level **>= Information** (numeric value >= 2) are uploaded
- Debug (1) and Trace (0) are **< Information (2)**, so they are **filtered out**
- The filtering happens in `IsEnabled()` **before** the log is even enqueued
- **No Debug logs will ever reach the server!** âœ…
